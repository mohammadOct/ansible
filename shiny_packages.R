options(Ncpus = 4)
pfad<- getwd()

.libPaths( c(paste0(pfad, "/library") , .libPaths() ) )

pkgs <-c("BH",
          "DBI",
          "Cairo",
          "DT",
          "Deriv",
          "DescTools",
          "FNN",
          "Formula",
          "GGally",
          "GPArotation",
          "HistogramTools",
          "Hmisc",
          "ISLR",
          "ISOcodes",
          "KernSmooth",
          "Lmoments",
          "MASS",
          "MarkowitzR",
          "Matrix",
          "MatrixModels",
          "NLP",
          "NPS",
          "PKI",
          "PivotalR",
          "Quandl",
          "R.methodsS3",
          "R.oo",
          "R.utils",
          "R6",
          "RANN",
          "RApiDatetime",
          "RApiSerialize",
          "RColorBrewer",
          "RCurl",
          "RH2",
          "RJDBC",
          "RJSONIO",
          "RMySQL",
          "RODBC",
          "RODBCDBI",
          "RPostgreSQL",
          "RPostgres",
          "RSQLite",
          "Rcpp",
          "RcppArmadillo",
          "RcppEigen",
          "RcppRoll",
          "Rsolnp",
          "Runuran",
          "Sim.DiffProc",
          "SnowballC",
          "SparseM",
          "TTR",
          "V8",
          "XLConnect",
          "XML",
          "abind",
          "acepack",
          "anytime",
          "argonDash",
          "argonR",
          "ash",
          "assertthat",
          "backports",
          "base64",
          "base64enc",
          "base64url",
          "bcrypt",
          "bdsmatrix",
          "bigrquery",
          "bigrquery",
          "billboarder",
          "bindr",
          "bindrcpp",
          "bit",
          "bit64",
          "bitops",
          "blob",
          "boot",
          "bootstrap",
          "broom",
          "bs4Dash",
          "caTools",
          "callr",
          "car",
          "carData",
          "cellranger",
          "checkmate",
          "chron",
          "cicerone",
          "class",
          "cli",
          "clipr",
          "cluster",
          "coda",
          "codetools",
          "colorspace",
          "commonmark",
          "compare",
          "corpcor",
          "cowplot",
          "crayon",
          "crosstalk",
          "curl",
          "data.table",
          "dbplyr",
          "deldir",
          "devEMF",
          "devtools",
          "dichromat",
          "digest",
          "doBy",
          "doParallel",
          "doRNG",
          "dplyr",
          "dbplyr",
          "dummies",
          "echarts4r",
          "egg",
          "evaluate",
          "exactRankTests",
          "expm",
          "fansi",
          "faraway",
          "fda",
          "fda.usc",
          "fitdistrplus",
          "flexclust",
          "flexdashboard",
          "fmdates",
          "forcats",
          "foreach",
          "forecast",
          "foreign",
          "formatR",
          "formattable",
          "fracdiff",
          "fresh",
          "future",
          "gdata",
          "gender",
          "getPass",
          "ggiraph",
          "ggiraphExtra",
          "ggplot2",
          "ggpubr",
          "ggrepel",
          "ggsci",
          "ggsignif",
          "ggthemes",
          "ggvis",
          "ghyp",
          "glm2",
          "glue",
          "gmodels",
          "goftest",
          "gplots",
          "gridExtra",
          "gsubfn",
          "gtable",
          "gtools",
          "hash",
          "haven",
          "highr",
          "hms",
          "htmlTable",
          "htmltools",
          "htmlwidgets",
          "httpuv",
          "httr",
          "hunspell",
          "igraph",
          "installr",
          "iterators",
          "iterpc",
          "janeaustenr",
          "jsonlite",
          "jtools",
          "knitr",
          "koRpus",
          "ks",
          "labeling",
          "lattice",
          "latticeExtra",
          "lazyeval",
          "leaflet",
          "leaflet.extras",
          "leaflet.minicharts",
          "lme4",
          "lmomco",
          "lmtest",
          "lubridate",
          "magick",
          "magrittr",
          "manipulate",
          "maptools",
          "mapview",
          "markdown",
          "maxLik",
          "memoise",
          "mgcv",
          "mime",
          "minqa",
          "misc3d",
          "miscTools",
          "mitools",
          "mnormt",
          "modeltools",
          "moments",
          "mosaic",
          "msm",
          "multicool",
          "munsell",
          "mvtnorm",
          "nFactors",
          "nlme",
          "nloptr",
          "nnet",
          "numDeriv",
          "odbc",
          "odbc",
          "officer",
          "openNLP",
          "openNLPdata",
          "openssl",
          "openxlsx",
          "pROC",
          "packrat",
          "padr",
          "pander",
          "pastecs",
          "patchwork",
          "pbkrtest",
          "pillar",
          "pkgconfig",
          "pkgmaker",
          "plm",
          "plogr",
          "plot3D",
          "plotly",
          "plotrix",
          "plyr",
          "png",
          "prediction",
          "prettyunits",
          "processx",
          "progress",
          "proto",
          "pryr",
          "psych",
          "purrr",
          "qdap",
          "qdapDictionaries",
          "qdapRegex",
          "qdapTools",
          "quadprog",
          "quantmod",
          "quantreg",
          "rChoiceDialogs",
          "rJava",
          "rapportools",
          "readr",
          "readxl",
          "registry",
          "relaimpo",
          "rematch",
          "renv",
          "reprex",
          "reshape",
          "reshape2",
          "reticulate",
          "rgdal",
          "rgeos",
          "rgl",
          "rhandsontable",
          "rio",
          "rlang",
          "rlist",
          "rmarkdown",
          "rngtools",
          "roxygen2",
          "rpart",
          "rpart.plot",
          "rpg",
          "rprojroot",
          "rsconnect",
          "rstudioapi",
          "rvest",
          "sandwich",
          "scales",
          "scatterplot3d",
          "selectr",
          "shiny",
          "shinyAce",
          "shinyEffects",
          "shinyFeedback",
          "shinyMobile",
          "shinythemes",
          "shinyWidgets",
          "shinyalert",
          "shinydashboard",
          "shinydashboardPlus",
          "shinyjs",
          "shinythemes",
          "simpleboot",
          "sjlabelled",
          "sjmisc",
          "slam",
          "sm",
          "snakecase",
          "sourcetools",
          "sp",
          "spatial",
          "spdep",
          "sqldf",
          "ssh",
          "ssh.utils",
          "stopwords",
          "stringdist",
          "stringr",
          "summarytools",
          "survey",
          "survival",
          "tablerDash",
          "tibble",
          "tidyquant",
          "tidyr",
          "tidyselect",
          "tidytext",
          "tidyverse",
          "timeDate",
          "timevis",
          "tinytex",
          "tm",
          "tokenizers",
          "truncnorm",
          "tseries",
          "urca",
          "utf8",
          "uuid",
          "varhandle",
          "venneuler",
          "viridis",
          "viridisLite",
          "visNetwork",
          "waiter",
          "waterfall",
          "whisker",
          "withr",
          "wordcloud",
          "wordcloud2",
          "writexl",
          "xfun",
          "xlsx",
          "xlsxjars",
          "xml2",
          "xtable",
          "xts",
          "yacca",
          "yaml",
          "yhat",
          "yonder",
          "zip",
          "zoo",
          "ECharts2Shiny",
          "editData",
          "shinyscreenshot",
          "shinyBS",
          "shinyLP",
          "shinyalert",
          "shinyjs",
          "shinyFeedback",
          "data.table",
          "magrittr",
          "tidyr",
          "dplyr",
          "stringr",
          "odbc",
          "openxlsx",
          "pdftools",
          "reactable",
          "tippy",
          "shinyjqui",
          "rintrojs",
          "RLumShiny",
          "formattable",
          "rhandsontable",
          "sparkline",
          "shinyloadtest",
          "profvis",
          "memoise",
          "d3r",
          "reticulate",
          "shinybusy")

#pkgList <- pkgDep(pkgs, type = "source", suggests = FALSE)


#pak function: install and load multiple R packages.
# check to see if packages are installed. Install them if they are not, then load them into the R session.


ipak <- function(pkg){
    new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
    if (length(new.pkg)) 
        install.packages(new.pkg, 
                         lib =paste0(pfad, "/library"),dependencies = TRUE)
    sapply(pkg, require, character.only = TRUE)
}

# call the function to install packages 
ipak(pkgs)
